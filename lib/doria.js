!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.doria=t():e.doria=t()}(window,function(){return function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CookieBox",{enumerable:!0,get:function(){return i.default}}),t.loadScript=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(o(1));t.loadScript=function(e){var t=document.createElement("script");return t.src=e,document.body.appendChild(t),new Promise(function(e,o){t.addEventListener("load",function(){e()})})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(2),n=a(o(3)),r=a(o(4));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],i=!0,n=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(e){n=!0,r=e}finally{try{i||null==c.return||c.return()}finally{if(n)throw r}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function u(e){var t=[],o="",i=!0,n=!1,r=void 0;try{for(var a,c=e.target[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=a.value;if((o=u.name)in this.cookies&&(!0===u.checked&&this.cookies[o].handler&&(this.cookies[o].accepted=!0,this.cookies[o]&&this.cookies[o].handler(),t.push(o)),!1===u.checked)){this.cookies[o].accepted=!1;var l=!0,f=!1,p=void 0;try{for(var b,v=this.cookies[o].cookies[Symbol.iterator]();!(l=(b=v.next()).done);l=!0){var h=b.value;d.bind(this)(h)}}catch(e){f=!0,p=e}finally{try{l||null==v.return||v.return()}finally{if(f)throw p}}}}}catch(e){n=!0,r=e}finally{try{i||null==c.return||c.return()}finally{if(n)throw r}}this.isAccepted=!0,function(){for(var e={isAccepted:this.isAccepted,acceptedCookies:[]},t=Object.entries(this.cookies),o=0;o<t.length;o++){var i=s(t[o],2),n=i[0];i[1].accepted&&e.acceptedCookies.push(n)}localStorage.setItem("doria__settings",JSON.stringify(e))}.bind(this)()}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="Cookie settings",this.subtitle="Select the cookies you want to accept",this.acceptButtonLabel="Accept",this.settingsButtonLabel="Settings",this.closeButtonLabel="Close",this.cookies={}}return function(e,t,o){t&&c(e.prototype,t),o&&c(e,o)}(e,[{key:"addCookieSettings",value:function(e,t,o,i){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.cookies[e]={label:t,description:o,cookies:i,mandatory:n},this.cookies[e].accepted=!1}},{key:"bake",value:function(){var e=this;(function(){var e=localStorage.getItem("doria__settings");if(e){e=JSON.parse(e),this.isAccepted=e.isAccepted;var t=!0,o=!1,i=void 0;try{for(var n,r=e.acceptedCookies[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var a=n.value;a in this.cookies&&(this.cookies[a].accepted=!0,this.cookies[a].handler&&this.cookies[a].handler())}}catch(e){o=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(o)throw i}}}}).bind(this)(),(0,i.render)("doria_settings","doria_settings_content",r.default,{doria:this}),(0,i.render)("doria_banner","doria_banner_content",n.default,{doria:this}),document.getElementById("doria_accept_form").onsubmit=function(t){return t.preventDefault(),u.bind(e)(t),!1}}},{key:"on",value:function(e,t){this.cookies[e].handler=t}}]),e}();t.default=l},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;t.render=function(e,t,o,i){var n={},r=document.getElementById(t);r||((r=document.createElement("div")).setAttribute("id",id),document.body.appendChild(r)),r.innerHTML=function e(t,i){var r=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[t]=n[t]||e(document.getElementById(t)?document.getElementById(t).innerHTML:o);return i?r(i):r}(e,i)}},function(e,t){e.exports="<div class=doriabanner> <div class=doriabanner__description><%=doria.bannerDescription%></div> <div> <button class=doriabanner__settingsbtn><%=doria.settingsButtonLabel%></button> <button class=doriabanner__closebtn><%=doria.closeButtonLabel%></button> </div> </div> "},function(e,t){e.exports='<div class=doriasettings> <div class=doriasettings__title><%=doria.title%></div> <div class=doriasettings__subtitle><%=doria.subtitle%></div> <form class=doriasettings__form id=doria_accept_form method=POST> <% for (cookie in doria.cookies) { %> <option value="<%=cookie%>"><%=doria.cookies[cookie].label%></option> <input type=checkbox id="doria_<%=cookie%>" name="<%=cookie%>" value="<%=cookie%>" <% if (doria.cookies[cookie].accepted) { %> checked=checked <% } %> <% if (doria.cookies[cookie].mandatory) { %> checked=checked disabled=disabled <% } %>/> <label for="doria_<%=cookie%>"><%=doria.cookies[cookie].label%></label> <p><%=doria.cookies[cookie].description%></p> <% } %> <input class=doriasettings__submitbtn type=submit value="<%=doria.acceptButtonLabel%>"> </form> </div> '}])});