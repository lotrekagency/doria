!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.doria=t():e.doria=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CookieBox",{enumerable:!0,get:function(){return n.default}}),t.loadScript=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o(1));t.loadScript=function(e){var t=document.createElement("script");return t.src=e,document.body.appendChild(t),new Promise(function(e,o){t.addEventListener("load",function(){e()})})}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(2),i=a(o(3)),r=a(o(4));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],n=!0,i=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="Cookie settings",this.subtitle="Select the cookies you want to accept",this.acceptButtonLabel="Accept",this.settingsButtonLabel="Settings",this.closeButtonLabel="Close",this.cookies={}}return function(e,t,o){t&&s(e.prototype,t),o&&s(e,o)}(e,[{key:"addCookieSettings",value:function(e,t,o,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.cookies[e]={label:t,description:o,cookies:n,mandatory:i},this.cookies[e].accepted=!1}},{key:"bake",value:function(){var e=this;this._restoreConfig(),this.doriaBannerContentElement=document.createElement("div"),this.doriaBannerContentElement.setAttribute("id","doria_banner_content"),document.body.appendChild(this.doriaBannerContentElement),this.doriaSettingsContentElement=document.createElement("div"),this.doriaSettingsContentElement.setAttribute("id","doria_settings_content"),document.body.appendChild(this.doriaSettingsContentElement),new n.Template("doria_settings","doria_settings_content",r.default,{doria:this}).render(),new n.Template("doria_banner","doria_banner_content",i.default,{doria:this}).render(),this.doriaAcceptForm=document.getElementById("doria_accept_form"),this.doriaAcceptForm.onsubmit=function(t){return t.preventDefault(),e._onAccept(t),!1}}},{key:"on",value:function(e,t){this.cookies[e].handler=t}},{key:"_deleteCookie",value:function(e){document.cookie=e+"=expires=Thu, 01 Jan 1970 00:00:01 GMT"}},{key:"_onAccept",value:function(e){var t=[],o="",n=!0,i=!1,r=void 0;try{for(var a,c=e.target[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var s=a.value;if((o=s.name)in this.cookies&&(!0===s.checked&&this.cookies[o].handler&&(this.cookies[o].accepted=!0,this.cookies[o]&&this.cookies[o].handler(),t.push(o)),!1===s.checked)){this.cookies[o].accepted=!1;var d=!0,l=!1,u=void 0;try{for(var f,p=this.cookies[o].cookies[Symbol.iterator]();!(d=(f=p.next()).done);d=!0){var h=f.value;this._deleteCookie(h)}}catch(e){l=!0,u=e}finally{try{d||null==p.return||p.return()}finally{if(l)throw u}}}}}catch(e){i=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}this.isAccepted=!0,this._saveConfig()}},{key:"_restoreConfig",value:function(){var e=localStorage.getItem("doria__settings");if(e){e=JSON.parse(e),this.isAccepted=e.isAccepted;var t=!0,o=!1,n=void 0;try{for(var i,r=e.acceptedCookies[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;a in this.cookies&&(this.cookies[a].accepted=!0,this.cookies[a].handler&&this.cookies[a].handler())}}catch(e){o=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(o)throw n}}}}},{key:"_saveConfig",value:function(){for(var e={isAccepted:this.isAccepted,acceptedCookies:[]},t=Object.entries(this.cookies),o=0;o<t.length;o++){var n=c(t[o],2),i=n[0];n[1].accepted&&e.acceptedCookies.push(i)}localStorage.setItem("doria__settings",JSON.stringify(e))}}]),e}();t.default=d},function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Template=t.default=void 0;var i=function(){function e(t,o,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.templateId=t,this.destination=o,this.data=i,this.content=n}return function(e,t,o){t&&n(e.prototype,t),o&&n(e,o)}(e,[{key:"render",value:function(){var e=this,t={};document.getElementById(this.destination).innerHTML=function o(n,i){var r=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[n]=t[n]||o(document.getElementById(n)?document.getElementById(n).innerHTML:e.content);return i?r(i):r}(this.templateId,this.data)}}]),e}();t.Template=t.default=i},function(e,t){e.exports="<div class=doriabanner> <div class=doriabanner__description><%=doria.bannerDescription%></div> <div> <button class=doriabanner__settingsbtn><%=doria.settingsButtonLabel%></button> <button class=doriabanner__closebtn><%=doria.closeButtonLabel%></button> </div> </div> "},function(e,t){e.exports='<div class=doriasettings> <div class=doriasettings__title><%=doria.title%></div> <div class=doriasettings__subtitle><%=doria.subtitle%></div> <form class=doriasettings__form id=doria_accept_form method=POST> <% for (cookie in doria.cookies) { %> <option value="<%=cookie%>"><%=doria.cookies[cookie].label%></option> <input type=checkbox id="doria_<%=cookie%>" name="<%=cookie%>" value="<%=cookie%>" <% if (doria.cookies[cookie].accepted) { %> checked=checked <% } %> <% if (doria.cookies[cookie].mandatory) { %> checked=checked disabled=disabled <% } %>/> <label for="doria_<%=cookie%>"><%=doria.cookies[cookie].label%></label> <p><%=doria.cookies[cookie].description%></p> <% } %> <input class=doriasettings__submitbtn type=submit value="<%=doria.acceptButtonLabel%>"> </form> </div> '}])});